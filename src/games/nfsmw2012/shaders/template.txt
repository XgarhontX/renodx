#include "./common.hlsl"

float3 colorU /*, colorN*/;
float3 colorU;


* CUSTOM_BLOOM


colorU = r0.xyz;

r0.xyz = pow(r0.xyz, invGamma.xyz);


(r0.w * CUSTOM_VIGNETTE)


(r0.w * CUSTOM_FILMGRAIN)


r0.xyz = r0.xyz * r1.xyz + r2.xyz;  
colorU = colorU * r1.xyz + r2.xyz;  

r0.xyz = r1.xyz * r0.xyz;
colorU = r1.xyz * colorU;

o0.xyz = Tonemap_Do(colorU, /*colorN, */o0.xyz, v2.xy, mainTexture);





colorU = r0.xyz;
Tonemap_Vanilla(colorU, r0.xyz);

colorU = r0.xyz;
Tonemap_Vanilla1(colorU, r0.xyz);

colorU = r0.xyz;
Tonemap_InvGamma(colorU, r0.xyz, invGamma);


Tonemap_Lut(colorU, r0.xyz, colorGradingTexture_s, colorGradingTexture);


colorU = colorU * renodx::color::gamma::DecodeSafe(r1.xyz) + renodx::color::gamma::DecodeSafe(r2.xyz);
colorU = colorU * renodx::color::gamma::DecodeSafe(r1.xyz);


#include "../shared.h"

if (!CUSTOM_IS_UI) discard;